IF(MSVC)
	set(SYSTEM_FOLDER_NAME "Win")
	if (NOT SUBSYSTEM_FOLDER_NAME)
		IF(CMAKE_SIZEOF_VOID_P MATCHES 8)
			set(SUBSYSTEM_FOLDER_NAME "x64")
			set(PACKAGE_SUFFIX "win64")
		ELSE()
			set(SUBSYSTEM_FOLDER_NAME "x86")
			set(PACKAGE_SUFFIX "win32")
		ENDIF()
	endif()
ELSEIF(APPLE)
	set(SYSTEM_FOLDER_NAME "Mac")
	if (NOT SUBSYSTEM_FOLDER_NAME)
		EXEC_PROGRAM(uname ARGS -v  OUTPUT_VARIABLE DARWIN_VERSION)
		STRING(REGEX MATCH "[0-9]+" DARWIN_VERSION ${DARWIN_VERSION})
		IF (DARWIN_VERSION MATCHES 8)
			set(SUBSYSTEM_FOLDER_NAME "10.5")
	        ELSEIF(DARWIN_VERSION GREATER 9)
			set(SUBSYSTEM_FOLDER_NAME "10.6")
	   	ENDIF()
	endif()	
	set(PACKAGE_SUFFIX "mac${SUBSYSTEM_FOLDER_NAME}")
ELSEIF(UNIX)
	set(SYSTEM_FOLDER_NAME "Linux")
	if (NOT SUBSYSTEM_FOLDER_NAME)
		IF(CMAKE_SIZEOF_VOID_P MATCHES 8)
			set(SUBSYSTEM_FOLDER_NAME "x64")
			set(PACKAGE_SUFFIX "linux64")
		ELSE()
			set(SUBSYSTEM_FOLDER_NAME "x86")
			set(PACKAGE_SUFFIX "linux32")
		ENDIF()
	endif()
ELSE()
   MESSAGE(FATAL_ERROR "Unsupported system")
ENDIF()

MESSAGE(STATUS "System-specific folder name: ${SYSTEM_FOLDER_NAME}")
MESSAGE(STATUS "Subsystem-specific folder name: ${SUBSYSTEM_FOLDER_NAME}")
